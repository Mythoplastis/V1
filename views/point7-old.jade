html(lang='en')
  head
    title Mythoplastis-Flag Point
    link(rel='shortcut icon', href='../favicon.ico')
    link(rel='stylesheet', type='text/css', href='assets/css/7.css') 
    link(rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js')
    script(src='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js')
    script(type='text/javascript', src='libs/jquery-ui-1.11.2/jquery-ui.min.js') 
    script(type='text/javascript', src='libs/jquery-ui-1.11.2/jquery-ui.min.css') 



  body

      h1#title Drag Anything You Want into The Frame and Draw!
      h1#subtitle Just remember when you click draw there is no eraser!!
      canvas#canvas(width="750", height="390")
      img#background(src="assets/img/rbs.jpg")
      img#ballon(src="assets/img/tent.png")
      img#ballon1(src="assets/img/people.png")
      img#ballon2(src="assets/img/grass.png")
      img#ballon3(src="http://i.imgur.com/6l6v2.png")

      button#draw Draw
    script.
      $(document).ready(function () {
          var d_canvas = document.getElementById('canvas');
          var context = d_canvas.getContext('2d');
          var background = document.getElementById('background');
          var ballon = document.getElementById('ballon')
          var ballon1 = document.getElementById('ballon1')
          var ballon2 = document.getElementById('ballon2')
          var ballon3 = document.getElementById('ballon3')

          context.drawImage(background, 0, 0);

          $('#ballon').draggable();
          $('#ballon1').draggable();
          $('#ballon2').draggable();
          $('#ballon3').draggable();

          $('#canvas').click(function ($event) {
              var $ballon = $('#ballon');
              var $ballon1 = $('#ballon1');
              var $ballon2 = $('#ballon1');
              var $ballon3 = $('#ballon1');

              $ballon.offset({
                  left: $event.pageX - $ballon.width() / 2,
                  top: $event.pageY - $ballon.height() / 2
              });
              $ballon1.offset({
                  left: $event.pageX - $ballon1.width() / 2,
                  top: $event.pageY - $ballon1.height() / 2
              });
              $ballon2.offset({
                  left: $event.pageX - $ballon2.width() / 2,
                  top: $event.pageY - $ballon2.height() / 2
              });              
              $ballon3.offset({
                  left: $event.pageX - $ballon3.width() / 2,
                  top: $event.pageY - $ballon3.height() / 2
              });              
          });

          $('#draw').click(function () {
              var $ballon = $('#ballon'),
                  $canvas = $('#canvas');
              var ballon_x = $ballon.offset().left - $canvas.offset().left,
                  ballon_y = $ballon.offset().top - $canvas.offset().top;

              context.drawImage(ballon, ballon_x, ballon_y);
              $ballon.hide();

              var $ballon1 = $('#ballon1'),
                  $canvas = $('#canvas');
              var ballon1_x = $ballon1.offset().left - $canvas.offset().left,
                  ballon1_y = $ballon1.offset().top - $canvas.offset().top;

              context.drawImage(ballon1, ballon1_x, ballon1_y);
              $ballon1.hide();

              var $ballon2 = $('#ballon2'),
                  $canvas = $('#canvas');
              var ballon2_x = $ballon2.offset().left - $canvas.offset().left,
                  ballon2_y = $ballon2.offset().top - $canvas.offset().top;

              context.drawImage(ballon2, ballon2_x, ballon2_y);
              $ballon2.hide();


              var $ballon3 = $('#ballon3'),
                  $canvas = $('#canvas');
              var ballon3_x = $ballon3.offset().left - $canvas.offset().left,
                  ballon3_y = $ballon3.offset().top - $canvas.offset().top;

              context.drawImage(ballon3, ballon3_x, ballon3_y);
              $ballon3.hide();

              $(this).attr('disabled', 'disabled');
          });
      });